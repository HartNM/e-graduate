import{t as m,u as k,F as H,j as e,G as N,f as W,n as J,m as K,H as L,s as w,I as Q,M as X,v as a,N as d}from"./index-B7_hvkM2.js";import{G as P}from"./Grid-C85KIsm1.js";import{D as Z}from"./DatePickerInput-DIAi7llo.js";import{S as ee}from"./Space-CyCyKMgB.js";import{F as te}from"./Flex-CXnzITNo.js";import{B as se}from"./Button-fInQYk36.js";const le={multiple:!1},V=m.forwardRef((s,r)=>{const{onChange:l,children:t,multiple:p,accept:u,name:f,form:h,resetRef:o,disabled:b,capture:j,inputProps:g,...y}=k("FileButton",le,s),i=m.useRef(null),I=()=>{!b&&i.current?.click()},x=c=>{if(c.currentTarget.files===null)return l(p?[]:null);l(p?Array.from(c.currentTarget.files):c.currentTarget.files[0]||null)};return H(o,()=>{i.current&&(i.current.value="")}),e.jsxs(e.Fragment,{children:[e.jsx("input",{style:{display:"none"},type:"file",accept:u,multiple:p,onChange:x,ref:N(r,i),name:f,form:h,capture:j,...g}),t({onClick:I,...y})]})});V.displayName="@mantine/core/FileButton";const ae=({value:s})=>e.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(s)?s.map(r=>r.name).join(", "):s?.name}),ne={valueComponent:ae},_=W((s,r)=>{const l=k("FileInput",ne,s),{unstyled:t,vars:p,onChange:u,value:f,defaultValue:h,multiple:o,accept:b,name:j,form:g,valueComponent:y,clearable:i,clearButtonProps:I,readOnly:x,capture:F,fileInputProps:c,rightSection:T,size:v,placeholder:Y,component:q,resetRef:E,classNames:C,styles:R,attributes:S,...G}=l,A=m.useRef(null),{resolvedClassNames:O,resolvedStyles:U}=J({classNames:C,styles:R,props:l}),[n,M]=K({value:f,defaultValue:h,onChange:u,finalValue:o?[]:null}),B=Array.isArray(n)?n.length!==0:n!==null,z=T||(i&&B&&!x?e.jsx(L,{...I,variant:"subtle",onClick:()=>M(o?[]:null),size:v,unstyled:t}):null);return m.useEffect(()=>{(Array.isArray(n)&&n.length===0||n===null)&&A.current?.()},[n]),e.jsx(V,{onChange:M,multiple:o,accept:b,name:j,form:g,resetRef:N(A,E),disabled:x,capture:F,inputProps:c,children:$=>e.jsx(w,{component:q||"button",ref:r,rightSection:z,...$,...G,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:l,unstyled:t,size:v,classNames:C,styles:R,attributes:S,children:B?e.jsx(y,{value:n}):e.jsx(Q.Placeholder,{__staticSelector:"FileInput",classNames:O,styles:U,attributes:S,children:Y})})})});_.classes=w.classes;_.displayName="@mantine/core/FileInput";const D=_,de=({opened:s,onClose:r,title:l,form:t,handleAdd:p})=>{const u={ขอสอบโครงร่างวิทยานิพนธ์:"โครงร่าง",ขอสอบโครงร่างการค้นคว้าอิสระ:"โครงร่าง",ขอสอบวิทยานิพนธ์:"",ขอสอบการค้นคว้าอิสระ:""};return e.jsx(X,{opened:s,onClose:r,title:l,centered:!0,size:"800",children:e.jsxs("form",{onSubmit:t.onSubmit(p),children:[e.jsxs(P,{type:"container",breakpoints:{md:"660px"},children:[e.jsxs(P.Col,{span:{base:12,md:6},children:[e.jsx(a,{label:"ชื่อ-นามสกุล",disabled:!0,...t.getInputProps("student_name")}),e.jsx(a,{label:"รหัสประจำตัว",disabled:!0,...t.getInputProps("student_id")}),e.jsx(a,{label:"ระดับการศึกษา",disabled:!0,...t.getInputProps("education_level")}),e.jsx(a,{label:"หลักสูตร",disabled:!0,...t.getInputProps("program")}),e.jsx(a,{label:"สาขาวิชา",disabled:!0,...t.getInputProps("major_name")}),e.jsx(a,{label:"คณะ",disabled:!0,...t.getInputProps("faculty_name")}),e.jsx(a,{label:"ขอสอบ",disabled:!0,...t.getInputProps("request_type")}),e.jsx(a,{label:"อาจารย์ที่ปรึกษา",disabled:!0,...t.getInputProps("thesis_advisor_name")})]}),e.jsxs(P.Col,{span:{base:12,md:6},children:[e.jsx(a,{label:"ชื่องานวิจัย",...t.getInputProps("research_name")}),e.jsx(d,{label:"บทที่ 1 มีความคล้ายคลึง กับผลงานผู้อื่น ร้อยละ",min:0,max:100,suffix:"%",...t.getInputProps("chapter_1")}),e.jsx(d,{label:"บทที่ 2 มีความคล้ายคลึง กับผลงานผู้อื่น ร้อยละ",min:0,max:100,suffix:"%",...t.getInputProps("chapter_2")}),e.jsx(d,{label:"บทที่ 3 มีความคล้ายคลึง กับผลงานผู้อื่น ร้อยละ",min:0,max:100,suffix:"%",...t.getInputProps("chapter_3")}),u[t.values.request_type]===""&&e.jsxs(e.Fragment,{children:[e.jsx(d,{label:"บทที่ 4 มีความคล้ายคลึง กับผลงานผู้อื่น ร้อยละ",min:0,max:100,suffix:"%",...t.getInputProps("chapter_4")}),e.jsx(d,{label:"บทที่ 5 มีความคล้ายคลึง กับผลงานผู้อื่น ร้อยละ",min:0,max:100,suffix:"%",...t.getInputProps("chapter_5")})]}),e.jsx(Z,{label:"ตรวจสอบเมื่อวันที่",placeholder:"เลื่อกวัน",firstDayOfWeek:0,valueFormat:"DD MMMM YYYY",withAsterisk:!0,...t.getInputProps("inspection_date")}),e.jsx(D,{accept:"application/pdf",placeholder:"Upload PDF files",label:"ผลการตรวจสอบการคัดลอกผลงานทางวิชาการ",...t.getInputProps("plagiarism_file")}),e.jsx(D,{accept:"application/pdf",placeholder:"Upload PDF files",label:`ไฟล์${t.values.request_type?.replace("ขอสอบ","")} ฉบับสมบูรณ์มาด้วย`,...t.getInputProps("full_report_file")})]})]}),e.jsx(ee,{h:"lg"}),e.jsx(te,{justify:"flex-end",children:e.jsx(se,{type:"submit",color:"green",children:"บันทึก"})})]})})};export{de as M};
